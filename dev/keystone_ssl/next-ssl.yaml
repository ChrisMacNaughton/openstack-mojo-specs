# vim: set ts=2 et:
openstack-services:
  services:
    mysql:
      charm: mysql
      constraints: mem=1G
      options:
        dataset-size: 50%
    glance:
      charm: glance
      constraints: mem=1G
    keystone-hacluster:
      charm: hacluster
    keystone:
      charm: keystone
      num_units: 3
      constraints: mem=1G
      options:
        debug: 'true'
        verbose: 'true'
        admin-password: openstack
        admin-token: ubuntutesting
# Test pki once LP #1309667 is fixed.
#        enable-pki: 'true'
        https-service-endpoints: 'True'
        use-https: 'yes'
        vip: '10.5.100.1'
  relations:
    - [ keystone, keystone-hacluster ]
    - [ keystone, mysql ]
    - [ glance, mysql ]
    - [ keystone, glance ]

openstack-icehouse:
  inherits: openstack-services
# trusty configurations
trusty-icehouse:
  inherits: openstack-icehouse
  series: trusty
trusty-icehouse-msg-split:
  inherits: openstack-icehouse-msg-split
  series: trusty
trusty-icehouse-proposed:
  inherits: trusty-icehouse
  overrides:
    source: proposed
    openstack-origin: distro-proposed

